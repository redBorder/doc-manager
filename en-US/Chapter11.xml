<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % BOOK_ENTITIES SYSTEM "manual.ent">
<!ENTITY PRODUCT "Documentation">
<!ENTITY BOOKID "manual">
<!ENTITY YEAR "2019">
<!ENTITY HOLDER "Eneo Tecnología S.L. |">
]>

<chapter>
	<title>Sensors</title>
	<para>In <literal>Sensors</literal>the user can make queries, manage and make configurations of their network
	infrastructure through the creation and edition of domains and sensors. There are many views that
	offer the possibility to make different actions on their network elements.</para>
	<para><literal>Sensors</literal> is available in the top right margin of the header menu, next to <emphasis role="bold">Tools</emphasis> section and User's
	Area. This menu area is named as <emphasis role="bold">Configuration zone,</emphasis> because unlike the options available in the
	top left margin (Analysis), these allow the complete management and configuration of the Manager
	and sensors: rules policies, alarms, cluster configuration or user's management, among other actions.</para>
	<section>
		<title>Sensors: menu and options</title>
		<para>The organization of this sections is very similar (in terms of structure) to the other parts of the web. We
        can find in this case:</para>
		<itemizedlist mark="bullet">
			<listitem>
				<para><emphasis role="bold">Section submenu:</emphasis> configuration and sensors'management options.</para>
				<para><literal>Options</literal></para>
				<para><literal>+Add sensor</literal></para>
				<para><literal>+Add Domain</literal></para>
				<para><literal>View</literal></para>
			</listitem>
			<listitem>
				<para><emphasis role="bold">Main area:</emphasis> the information that is shown in this area depends on the selected <literal>View.</literal> There are four
				available views in order to visualize our network infrastructure:</para>
				<para><literal>Tree</literal>: list with the different levels that compose the network infrastructure classified by dependency
				and hierarchy. Alongside each element are two icons for editing and deleting actions. This is the
				view that is displayed by default. </para>
				<para><literal>Map</literal>: locate the domains and sensors over a map.</para>
				<para><literal>Access Points</literal>: direct access to the visualization of the deployed Access Points.</para>
				<para><literal>Sensors: </literal> in the <literal>View</literal> the user can find a list of available sensors depending on the Apps
				included in your license. Click on the sensor you want to check for view an alphabetic list of all the
				sensors associated with this App.</para>
			</listitem>		
		</itemizedlist>
		<mediaobject>
			<imageobject>
				<imagedata scalefit="1" align="center" width="450" fileref="images/ch11_img001.png"/>
			</imageobject>
			<caption>
				<para>General view of Sensors section</para>
			</caption>
		</mediaobject>
		<note>
			<title>Note</title>
			<para>Each view has its own options menu and the different possibilities of creation and edition of the
			sensors or domains.</para>
			<para>Map view hasn't any available option.</para>
		</note>
	</section>
	<section>
		<title>View</title>
		<para>When the user access to the <literal>Sensors</literal> section can find a list (Tree view) in which the domains and
		sensors that are a part of their network infrastructure are shown. In this point we are going to review
		each view and the actions available.</para>
		<mediaobject>
			<imageobject>
				<imagedata scale="50" align="center" fileref="images/ch11_img002.png"/>
			</imageobject>
			<caption>
				<para>View menu: options</para>
			</caption>
		</mediaobject>
		<section>
			<title>Tree view</title>
			<para><literal>Tree</literal> view is shown by default in the <literal>Sensors</literal> section.
			It is a list with the different levels that compose
			the network infrastructure classified by dependency and hierarchy. </para>
			<mediaobject>
				<imageobject>
					<imagedata scalefit="1" align="center" width="450" fileref="images/ch11_img003.png"/>
				</imageobject>
				<caption>
					<para>Tree view</para>
				</caption>
			</mediaobject>
			<para>From this view, the user can add a new domain or sensor, delete the existing, access to other views,
			import and export the tree as well as direct editing of all the domains and sensors that are a part of the
			list.</para>
			<para>Every element that is shown in the tree has two icons: Edit and Delete. (The same icons work in tree
			and sensors view):</para>
			<mediaobject>
				<imageobject>
					<imagedata scale="100" align="center" fileref="images/ch11_img004b.png"/>
				</imageobject>
				<caption>
					<para>"Edit" and "Delete" icons</para>
				</caption>
			</mediaobject>
			<note>
				<title>Note</title>
				<para>The options in the <emphasis role="bold">Edit menu</emphasis> can change depending on if we are consulting the infrastructure at
				domain or at sensor level.</para>
			</note>
			<warning>
				<title>Warning</title>
				<para><emphasis role="bold">Some sensors can't be deleted.</emphasis></para>
				<para>In these cases, the "Delete" icon will appear colored in grey.
				Before the domain or sensor will be deleted, the system will show you a pop-up screen with
				a warning message.</para>
				<para> All the users and descendants assigned to this domain or sensor will be
				disable and assigned to the parents of this domain or root domain. The user with Administrator
				role should activate user's permissions from <emphasis>Tools>Users section.</emphasis></para>
			</warning>
			<mediaobject>
				<imageobject>
					<imagedata scalefit="1" align="center" width="350" fileref="images/ch11_img004.png"/>
				</imageobject>
				<caption>
					<para>Confirm the deleting of the sensor</para>
				</caption>
			</mediaobject>
			<para>In case that <emphasis role="bold">IPS/IDS sensors</emphasis> have been registered an icon with the type of policy it has will be shown.</para> 
			<para>Click on this icon to access the interface for this policy and from which we can perform
			some different actions.</para>
			<mediaobject>
				<imageobject>
					<imagedata scale="100" align="center" fileref="images/ch11_img004c.png"/>
				</imageobject>
				<caption>
					<para>Policy icon</para>
				</caption>
			</mediaobject>
			<para><emphasis role="bold">Available actions in Tree view</emphasis></para>
			<itemizedlist mark="circle">
				<listitem>
					<para>Add a new domain or sensor</para>
				</listitem>
				<listitem>
					<para>Delete a domain or sensor</para>
				</listitem>
				<listitem>
					<para>Access to other views</para>
				</listitem>
				<listitem>
					<para>Import and Export the tree</para>
				</listitem>
				<listitem>
					<para>Edit a domain or sensor</para>
				</listitem>
			</itemizedlist>
			<section>
				<title>Infrastructure organization levels in redBorder</title>
				<itemizedlist mark="bullet">
					<listitem>
						<para><emphasis role="bold">Domain:</emphasis> containers which may include sensors, group of sensors, etc.
						Domain level shows us the domain name and allows us to add a description. It is possible to classify
						them according to their nature (organizational, spacial, etc.); each one will have an identifying icon:.</para>		
					</listitem>
					<listitem>
						<para><emphasis>Generic</emphasis></para>
					</listitem>
					<listitem>
						<para><emphasis>Service Provider</emphasis></para>
					</listitem>
					<listitem>
						<para><emphasis>Organization</emphasis></para>
					</listitem>
					<listitem>
						<para><emphasis>Market</emphasis></para>
					</listitem>
					<listitem>
						<para><emphasis>Deployment</emphasis></para>
					</listitem>
					<listitem>
						<para><emphasis>Namespace</emphasis></para>
					</listitem>
					<listitem>
						<para><emphasis>Campus</emphasis></para>
					</listitem>
					<listitem>
						<para><emphasis>Building</emphasis></para>
					</listitem>
					<listitem>
						<para><emphasis>Floor</emphasis></para>
					</listitem>
					<listitem>
						<para><emphasis role="bold">Sensors:</emphasis> end nodes that correspond with physical elements placed on the network (switches,
						routers, IPS, etc.).</para>
						<para>The information in sensor level is: sensor name, IP, policy (IPS sensors), last check and version. It
						is possible to add a description to the sensor.</para>
					</listitem>
				</itemizedlist>
				<note>
					<title>Note</title>
					<para>Note that to create IPS sensors you must do that through the registration of the sensors in the
					Manager in the Manager Installation process. From this section you can edit and overwrite the
					parameters that they have inherited from <literal>Tools->General Settings</literal></para>
					<para>The sensors of the rest of the Apps can be created from <literal>Sensors section.</literal></para>
				</note>		
				<para><emphasis role="bold">Configuration inheritance</emphasis></para>
				<para>In <emphasis role="bold">Tools</emphasis> section we find General Settings option from which the user can define general parameters of the Manager and Apps.</para>
				<para>This is the maximum level of configuration (it acts as root domain) therefore, the properties defined
				here will be inherited by domains and sensors that fall below this level.</para>
				<para>When a domain or sensor is created or it is edited for the first time, we can observe that some
				parameters have the tag "Inherited", it means that they have inherited the values from General
				Settings. Overwrite this information in case that you want to change it.</para>
				<para>The domains and sensors that fall below the level of the element overwritten, inherit again, the
				properties applied to this element.</para>
			</section>
			<section>
				<title>Options</title>
				<para>Here are the options available in the Sensors section. They can be selected from the <emphasis role="bold">Options</emphasis> and from the options shown by clicking 
				"Edit"both domain level and sensor level.</para>
				<section>
					<title>Import Tree</title>
					<para>This option allows to import your network infrastructure through the uploading of a file to redBorder
					platform. This will be shown in tree view.</para>
					<mediaobject>
						<imageobject>
							<imagedata scalefit="1" align="center" width="150" fileref="images/ch11_img006.png"/>
						</imageobject>
						<caption>
						<para>Import Tree</para>
						</caption>
					</mediaobject>	
					<para>There are two ways to import tree:</para>
					<orderedlist numeration="arabic">
						<listitem>
							<para><literal>Options->Import tree</literal></para>
						</listitem>
						<listitem>
							<para>Edit icon (domain level)</para>
						</listitem>
					</orderedlist>
					<mediaobject>
						<imageobject>
							<imagedata scalefit="1" align="center" width="350" fileref="images/ch11_img005.png"/>
						</imageobject>
						<caption>
							<para>Import/Export tree from Options menu</para>
						</caption>
					</mediaobject>	
					<mediaobject>
						<imageobject>
							<imagedata scalefit="1" align="center" width="450" fileref="images/ch11_img017.png"/>
						</imageobject>
						<caption>
							<para>Import/Export tree through Edit icon (domain level)</para>
						</caption>
					</mediaobject>	
				</section>
				<section>
					<title>Export Tree</title>
					<para>This option allows to export a tree and is within easy reach for other applications. User will download a
					zip file for storing then in their computer.</para>
					<para>There are two ways to export a tree:</para>
					<orderedlist numeration="arabic">
						<listitem>
							<para><literal>Options->Export tree</literal></para>
						</listitem>
						<listitem>
							<para>Edit icon (domain level)</para>
						</listitem>
					</orderedlist>
					<mediaobject>
						<imageobject>
							<imagedata scalefit="1" align="center" width="350" fileref="images/ch11_img007.png"/>
						</imageobject>
						<caption>
							<para>Export Tree</para>
						</caption>
					</mediaobject>	
					<mediaobject>
						<imageobject>
							<imagedata scalefit="1" align="center" width="450" fileref="images/ch11_img017.png"/>
						</imageobject>
						<caption>
							<para>Import/Export tree through Edit icon (domain level)</para>
						</caption>
					</mediaobject>		
				</section>
				<section>
					<title>Monitors</title>
					<note>
						<title>Note</title>
						<para>This option is only available in the Edit icon menu (sensor level).</para>
					</note>
					<para>Click on sensor's Edit icon and select <literal>Monitor</literal> option.
					 Then, we can see a list with the monitoring metrics using for monitor the sensor status at different levels. Technology column indicates the origin from where the data is collected.</para>
					 <mediaobject>
						<imageobject>
							<imagedata scalefit="1" align="center" width="150" fileref="images/ch11_img009.png"/>
						</imageobject>
						<caption>
							<para>Monitors edit icon</para>
						</caption>
					</mediaobject>
					<para>These are the available actions for controlling the satus of the sensor: </para>
					<itemizedlist mark="bullet">
						<listitem>
							<para><emphasis role="bold">Restore default:</emphasis> applies default metrics that are included in sensors creation.</para>
						</listitem>
						<listitem>
							<para><emphasis role="bold">Add monitor:</emphasis> shows available metrics. (<literal>+Add Monitor</literal></para>
						</listitem>
						<listitem>
							<para><emphasis role="bold">Delete monitor:</emphasis> delete the metric applied.</para>
						</listitem>
					</itemizedlist>	
					<mediaobject>
						<imageobject>
							<imagedata scalefit="1" align="center" width="450" fileref="images/ch11_img010.png"/>
						</imageobject>
						<caption>
							<para>Monitors</para>
						</caption>	
					</mediaobject>	
					<mediaobject>
						<imageobject>
							<imagedata scalefit="1" align="center" width="350" fileref="images/ch11_img010b.png"/>
						</imageobject>
						<caption>
							<para>Add Monitor: available metrics</para>
						</caption>	
					</mediaobject>	
				</section>
			</section>
		</section>
	</section>
	<section>
		<title>Map view</title>
		<para>In this view, the user can see where the domains and sensors are located. It is possible to <emphasis role="bold">add a new location,</emphasis> both for a new domain/sensor and for an
		existing one.</para>
		<mediaobject>
			<imageobject>
				<imagedata scalefit="1" align="center" width="450" fileref="images/ch11_img012.png"/>					
			</imageobject>
				<caption>
					<para>Map view</para>
				</caption>
		</mediaobject>
		<para><emphasis role="bold">Add location</emphasis></para>
		<para>To add a sensor to Map view it’s necessary to add first a location in the domain or sensor editing
		interface that has been selected.</para>
        <para>For this, you can edit them when you add a new one <literal>(+Add Sensor/Domain)</literal> or by editing an existing one using the Edit icon.
		In both cases you will find a paragraph called Location in which a Map is shown; you can find the
		desired location or point by clicking on the map. Then select <literal>+Add Location tab.</literal></para>
		<mediaobject>
			<imageobject>
				<imagedata scalefit="1" align="center" width="400" fileref="images/ch11_img014.png"/><!--Cambiar captura por una de redborder 11, 13, 14, 17, 18, 18b, 18c-->
			</imageobject>
			<caption>
				<para>Create/Edit sensor: Location</para>
			</caption>
		</mediaobject>
		<para>If you have searched or selected a localization, the fields with the coordinates will be shown filled. Otherwise, insert manually that values.</para>
		<mediaobject>
			<imageobject>
				<imagedata scalefit="1" align="center" width="350" fileref="images/ch11_img013.png"/>
			</imageobject>
			<caption>
				<para>Define coordinates to add a location for a sensor or domain</para>
			</caption>
		</mediaobject>			
	</section>
	<section>
		<title>View Access Points</title>
		<para>Access Points (AP) are access points of the network infrastructure which are associated with a
		location. The Access Points depend on the Flow App and apply to both the domain level, as well as
		the sensors.</para>
		<para>This is another way to display your network infrastructure, through the distribution of the APs per
		domain, and you can also view the status of each AP. You can access the display or create access
		points in two different ways:</para>
		<itemizedlist mark="bullet">
			<listitem>
				<para>View->Access Points</para>				
			</listitem>
			<listitem>
				<para>Edit icon to sensor/domain level->Edit: View Access Points (located in the submenu upper right side).</para>
			</listitem>
		</itemizedlist>
		<mediaobject>
			<imageobject>
				<imagedata scalefit="1" align="center" width="150" fileref="images/ch11_img016.png"/>
			</imageobject>
			<caption>
				<para>View Access Points</para>
			</caption>
		</mediaobject>
		<note>
			<title>Note</title>
			<para>To find out which level you are, you can check the shipping route in the upper left margin. You
			can browse through the different screens by clicking on any of the items of the route.</para>
		</note>
		<para>The submenu of this interface shows a series of buttons similar to those on the main screen
		<emphasis role="bold">Sensors.</emphasis> The actions you can perform from this screen are as follows (these vary depending on
		whether it is consulting a domain or sensor level):</para>
		<itemizedlist mark="bullet">
			<listitem>
				<para><literal>Show Map</literal>/ <literal>Show Floors</literal>: 
					shows the geographical distribution of access points or its plant location
					in the case we are consulting a domain Floor with more than a floor level.</para>
			</listitem>
			<listitem>
				<para><literal>Edit (sensor name or domain):</literal> we return to the editing screen for the domain or sensor.</para>
			</listitem>
			<listitem>
				<para><literal>Options->Export Access Points/ Delete All Access Points.</literal>: 
				allows you to export all Access Points to a .csv file or delete all the Access Points defined for that localization.</para>
			</listitem>
			<listitem>
				<para><literal>+Add sensors</literal>: add sensors to the domain we are consulting. </para>
			</listitem>
			<listitem>
				<para><literal>+Add Domain</literal></para>
			</listitem>
			<listitem>
				<para><literal>View</literal>: menu that allows us to navigate through the different existing views.</para>
			</listitem>
			<listitem>
				<para><literal>+Add Access Points</literal></para>
			</listitem>
			<listitem>
				<para><literal>+Add Zones</literal></para>
			</listitem>
		</itemizedlist>
		<mediaobject>
			<imageobject>
				<imagedata scalefit="1" align="center" width="350" fileref="images/ch11_img011.png"/>
			</imageobject>
			<caption>
				<para>Access Points interface (domain level)</para>
			</caption>
		</mediaobject>
		<mediaobject>
			<imageobject>
				<imagedata scale="50" align="center" fileref="images/ch11_img018b.png"/>
			</imageobject>
			<caption>
				<para>Access Point summary</para>
			</caption>
		</mediaobject>
		<mediaobject>
			<imageobject>
				<imagedata scalefit="1" align="center" width="350" fileref="images/ch11_img011b.png"/>
			</imageobject>
			<caption>
				<para>Add a new Access Point zone</para>
			</caption>
		</mediaobject>
		<mediaobject>
			<imageobject>
				<imagedata scalefit="1" align="center" width="350" fileref="images/ch11_img018d.png"/>
			</imageobject>
			<caption>
				<para> Access Points (Zone)</para>
			</caption>
		</mediaobject>
		<mediaobject>
			<imageobject>
				<imagedata scalefit="1" align="center" width="350" fileref="images/ch11_img019.png"/>
		</imageobject>
			<caption>
				<para>Add a new AP zone</para>
			</caption>
		</mediaobject>
	</section>	
	<section>
		<title>Add a new domain</title>	
		<para>Select option <literal>+Add Domain</literal> which is located in the upper right submenu, choose the type of domain you want to add, 
		and then fill out the required fields (these vary depending on the type of domain to be created).</para>
		<mediaobject>
			<imageobject>
				<imagedata scalefit="1" align="center" width="150" fileref="images/ch11_img021.png"/>
			</imageobject>
			<caption>
				<para>Add a domain: domain selection</para>
			</caption>
		</mediaobject>
		<mediaobject>
			<imageobject>
				<imagedata scalefit="1" align="center" width="350" fileref="images/ch11_img022.png"/>
			</imageobject>
			<caption>
				<para>Add a domain: fill in the data to create</para>
			</caption>
		</mediaobject>
		<para>From this moment, the rest of the information associated with the domain will need to be modified by
		clicking the edit button to the right of each domain in the tree view, or <literal>Access Points</literal> and selecting the option <literal>Edit.</literal></para>
	</section>
	<section>
		<title>Edit a domain</title>
		<para>From this interface you can modify the settings of an existing domain, and enter the information of a newly created domain.</para>
		<para>To access this screen the user must click the edit button to the right of the domain you want to edit from the tree view or <literal>Access Points</literal> 
		and select the option<literal>Edit.</literal></para>
		<mediaobject>
			<imageobject>
				<imagedata scalefit="1" align="center" width="450" fileref="images/ch11_img023.png"/>
			</imageobject>
			<caption>
				<para>Example of editing a domain</para>
			</caption>
		</mediaobject>
		<para>This is the general data that we can modify for the domains. However, depending on the type of domain selected, one of these fields will appear:</para>
		<itemizedlist mark="bullet">
			<listitem>
				<para><emphasis role="bold">General:</emphasis> displays general information of the sensor. Name (not editable from the Web), type of domain-select the domain type in the box) 
				and description.</para>	
			</listitem>
			<listitem>
				<para><emphasis role="bold">Servers:</emphasis> In this section the user can define the configuration of the Proxy and Syslog servers. All
				values shown are inherited by default. Overwrite if necessary</para>	
			</listitem>
			<listitem>
				<para><emphasis role="bold">Location:</emphasis> Locate the sensor/domain on a world map. This location will be displayed in the view
				Map. </para>	
			</listitem>
		</itemizedlist>			
	</section>	
	<section>
		<title>Add a sensor</title>
		<para>Among the submenu options, we find <literal>+Add Sensor.</literal> In the dropdown menu they show the different
		sensors available to add to the network infrastructure.</para>
		<para>Select the type of sensor in the drop-down menu, and then complete the information requested.</para>
		<warning>
			<title>Warning</title>
			<para><emphasis role="bold"> In this section you can only edit and configure IPS/IDS sensors. </emphasis></para>
			<para>IPS, IDS and Mail Gateway sensors are created during sensor registration proccess after Manager installation and Network configuration.</para>
			<para><emphasis role="bold">From this section you can only create directlu Flow sensors.</emphasis></para>
		</warning>
		<mediaobject>
			<imageobject>
				<imagedata scalefit="1" align="center" width="350" fileref="images/ch11_img020.png"/>
			</imageobject>
			<caption>
				<para>Add Flow sensor</para>
			</caption>
		</mediaobject>
		<important>
			<title>Important</title>
			<para>In the moment in which a redBorder sensor is created, by default it's set as the root, above the domain level.</para>
			<para>The user can organize its sensor infrastructure in any moment, dragging and dropping the sensor in the level they want to place it in.</para>
			<para><emphasis role="bold">The sensor automatically inherits the properties of the root domain</emphasis> (policies, operating mode, Snort variables, etc.).</para>
		</important>
	</section>	
	<section>
		<title>Sensor types and Monitor device configuration</title>
		<para>In the sensor section of a redBorder manager, the user can find the different types of sensors, each one performs a different function:</para>
		<itemizedlist mark="bullet">
			<listitem>
				<para><literal>Flow</literal></para>			
			</listitem>
			<listitem>
				<para><literal>MSE</literal></para>			
			</listitem>
			<listitem>
				<para><literal>Meraki</literal></para>			
			</listitem>
			<listitem>
				<para><literal>Aruba ALE</literal></para>			
			</listitem>
			<listitem>
				<para><literal>Monitor device</literal></para>			
			</listitem>
			<listitem>
				<para><literal>Twitter</literal></para>			
			</listitem>
			<listitem>
				<para><literal>Vault</literal></para>			
			</listitem>
		</itemizedlist>
		<para>The monitor device sensor is one of the latest developments that comes with the 80-6 version of redBorder. It can be used to monitor any device with an ip address that supports snmp, redfish or ipmi. When creating or updating the monitor device sensor the credentials for the corresponding protocols needs to be defined. In case no community string for snmp is defined, the default ‘public’ will be used.</para>
		<para>Once the user are logged in into the manager dashboard, the sensor can be added using the menu <literal>‘Sensors > Add sensor’</literal> and then clicking on <literal>‘Monitor device’.</literal></para>
		<para>It can be prompted for some required and optional parameters.</para>
		<itemizedlist mark="bullet">
			<listitem>
				<para>A unique name</para>
			</listitem>
			<listitem>	
				<para>The ip address of the machine the user want to monitor</para>
			</listitem>
			<listitem>	
				<para>The protocol the user will use to monitor</para>
			</listitem>
			<listitem>	
				<para>The credentials of the machine to access the selected protocol</para>
			</listitem>
			<listitem>	
				<para>The community string in case the user will use snmp protocol</para>		
			</listitem>
			</itemizedlist>
			<mediaobject>
				<imageobject>
					<imagedata scalefit="1" align="center" width="350" fileref="images/ch11_img037.png"/>
				</imageobject>
				<caption>
					<para>Press on the ‘Save’ button to apply the configuration</para>
				</caption>
			</mediaobject>
		<note>
			<title>Note</title>
			<para>Different sensor configuration guides can be found on the reBorder support page:</para>
			<para><emphasis role="bold">https://support.redborder.com</emphasis></para>
		</note>	
	</section>
</chapter>
